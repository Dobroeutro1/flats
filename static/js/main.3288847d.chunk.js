(this["webpackJsonpfind-flats"]=this["webpackJsonpfind-flats"]||[]).push([[0],{125:function(t,a,e){"use strict";e.r(a);var s=e(0),o=e.n(s),r=e(7),l=e.n(r),n=(e(50),e(16)),i=e(23),c=e(6),d={flatList:[{id:101,floor:1,posOnFloor:1,price:288e4,rooms:1,areaTotal:"33,5",areaKitchen:"11,4",areaLive:"14,5",layoutImage:"https://cdn.esoft.digital/content/cluster/layouts_2d/d5/9e/e8b89005da2d08a8620db552c52022f08cbe9ed5.png"},{id:102,floor:1,posOnFloor:2,price:505e4,rooms:2,areaTotal:"64,8",areaKitchen:"19,2",areaLive:"33",layoutImage:"https://cdn.esoft.digital/content/cluster/layouts_2d/12/6c/4d7c3f0588398eec1615c2bc43b072be5d4f6c12.png"},{id:103,floor:1,posOnFloor:3,price:303e4,rooms:1,areaTotal:"36,5",areaKitchen:"11,7",areaLive:"17,4",layoutImage:"https://cdn.esoft.digital/content/cluster/layouts_2d/5c/85/9e5c33110c6ff1b668427b0628f2db6afc35855c.png"},{id:104,floor:1,posOnFloor:4,price:3e6,rooms:1,areaTotal:"35,8",areaKitchen:"15",areaLive:"11,2",layoutImage:"https://cdn.esoft.digital/content/cluster/layouts_2d/d8/13/ea69243b7041e49d9947d01d4061c636bb4213d8.png"},{id:105,floor:1,posOnFloor:5,price:52e5,rooms:2,areaTotal:"66,6",areaKitchen:"18,5",areaLive:"29,4",layoutImage:"https://cdn.esoft.digital/content/cluster/layouts_2d/d9/85/b730707e30d58269aa500312c0a0f747748785d9.png"},{id:106,floor:1,posOnFloor:6,price:605e4,rooms:3,areaTotal:"85,3",areaKitchen:"16,6",areaLive:"46,6",layoutImage:"https://cdn.esoft.digital/content/cluster/layouts_2d/f4/7b/1ec36ffbf6f178a017b6f6affcb2d210d0ad7bf4.png"},{id:107,floor:2,posOnFloor:1,price:288e4,rooms:1,areaTotal:"33,5",areaKitchen:"11,4",areaLive:"14,5",layoutImage:"https://cdn.esoft.digital/content/cluster/layouts_2d/d5/9e/e8b89005da2d08a8620db552c52022f08cbe9ed5.png"},{id:108,floor:2,posOnFloor:2,price:505e4,rooms:2,areaTotal:"64,8",areaKitchen:"19,2",areaLive:"33",layoutImage:"https://cdn.esoft.digital/content/cluster/layouts_2d/12/6c/4d7c3f0588398eec1615c2bc43b072be5d4f6c12.png"},{id:109,floor:2,posOnFloor:3,price:303e4,rooms:1,areaTotal:"36,5",areaKitchen:"11,7",areaLive:"17,4",layoutImage:"https://cdn.esoft.digital/content/cluster/layouts_2d/5c/85/9e5c33110c6ff1b668427b0628f2db6afc35855c.png"},{id:110,floor:2,posOnFloor:4,price:3e6,rooms:1,areaTotal:"35,8",areaKitchen:"15",areaLive:"11,2",layoutImage:"https://cdn.esoft.digital/content/cluster/layouts_2d/d8/13/ea69243b7041e49d9947d01d4061c636bb4213d8.png"},{id:111,floor:2,posOnFloor:5,price:52e5,rooms:2,areaTotal:"66,6",areaKitchen:"18,5",areaLive:"29,4",layoutImage:"https://cdn.esoft.digital/content/cluster/layouts_2d/d9/85/b730707e30d58269aa500312c0a0f747748785d9.png"},{id:112,floor:2,posOnFloor:6,price:605e4,rooms:3,areaTotal:"85,3",areaKitchen:"16,6",areaLive:"46,6",layoutImage:"https://cdn.esoft.digital/content/cluster/layouts_2d/f4/7b/1ec36ffbf6f178a017b6f6affcb2d210d0ad7bf4.png"},{id:113,floor:3,posOnFloor:1,price:288e4,rooms:1,areaTotal:"33,5",areaKitchen:"11,4",areaLive:"14,5",layoutImage:"https://cdn.esoft.digital/content/cluster/layouts_2d/d5/9e/e8b89005da2d08a8620db552c52022f08cbe9ed5.png"},{id:114,floor:3,posOnFloor:2,price:505e4,rooms:2,areaTotal:"64,8",areaKitchen:"19,2",areaLive:"33",layoutImage:"https://cdn.esoft.digital/content/cluster/layouts_2d/12/6c/4d7c3f0588398eec1615c2bc43b072be5d4f6c12.png"},{id:115,floor:3,posOnFloor:3,price:303e4,rooms:1,areaTotal:"36,5",areaKitchen:"11,7",areaLive:"17,4",layoutImage:"https://cdn.esoft.digital/content/cluster/layouts_2d/5c/85/9e5c33110c6ff1b668427b0628f2db6afc35855c.png"},{id:116,floor:3,posOnFloor:4,price:3e6,rooms:1,areaTotal:"35,8",areaKitchen:"15",areaLive:"11,2",layoutImage:"https://cdn.esoft.digital/content/cluster/layouts_2d/d8/13/ea69243b7041e49d9947d01d4061c636bb4213d8.png"},{id:117,floor:3,posOnFloor:5,price:52e5,rooms:2,areaTotal:"66,6",areaKitchen:"18,5",areaLive:"29,4",layoutImage:"https://cdn.esoft.digital/content/cluster/layouts_2d/d9/85/b730707e30d58269aa500312c0a0f747748785d9.png"},{id:118,floor:3,posOnFloor:6,price:605e4,rooms:3,areaTotal:"85,3",areaKitchen:"16,6",areaLive:"46,6",layoutImage:"https://cdn.esoft.digital/content/cluster/layouts_2d/f4/7b/1ec36ffbf6f178a017b6f6affcb2d210d0ad7bf4.png"},{id:119,floor:4,posOnFloor:1,price:288e4,rooms:1,areaTotal:"33,5",areaKitchen:"11,4",areaLive:"14,5",layoutImage:"https://cdn.esoft.digital/content/cluster/layouts_2d/d5/9e/e8b89005da2d08a8620db552c52022f08cbe9ed5.png"},{id:120,floor:4,posOnFloor:2,price:505e4,rooms:2,areaTotal:"64,8",areaKitchen:"19,2",areaLive:"33",layoutImage:"https://cdn.esoft.digital/content/cluster/layouts_2d/12/6c/4d7c3f0588398eec1615c2bc43b072be5d4f6c12.png"},{id:121,floor:4,posOnFloor:3,price:303e4,rooms:1,areaTotal:"36,5",areaKitchen:"11,7",areaLive:"17,4",layoutImage:"https://cdn.esoft.digital/content/cluster/layouts_2d/5c/85/9e5c33110c6ff1b668427b0628f2db6afc35855c.png"},{id:122,floor:4,posOnFloor:4,price:3e6,rooms:1,areaTotal:"35,8",areaKitchen:"15",areaLive:"11,2",layoutImage:"https://cdn.esoft.digital/content/cluster/layouts_2d/d8/13/ea69243b7041e49d9947d01d4061c636bb4213d8.png"},{id:123,floor:4,posOnFloor:5,price:52e5,rooms:2,areaTotal:"66,6",areaKitchen:"18,5",areaLive:"29,4",layoutImage:"https://cdn.esoft.digital/content/cluster/layouts_2d/d9/85/b730707e30d58269aa500312c0a0f747748785d9.png"},{id:124,floor:4,posOnFloor:6,price:605e4,rooms:3,areaTotal:"85,3",areaKitchen:"16,6",areaLive:"46,6",layoutImage:"https://cdn.esoft.digital/content/cluster/layouts_2d/f4/7b/1ec36ffbf6f178a017b6f6affcb2d210d0ad7bf4.png"}]};var h,f,m=Object(n.b)({flatList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,a=arguments.length>1?arguments[1]:void 0;return a.type,Object(c.a)({},t)}}),u=e(10),p=e(11),b=e(13),j=e(12),g=e(1),x=function(t){Object(b.a)(e,t);var a=Object(j.a)(e);function e(){return Object(u.a)(this,e),a.apply(this,arguments)}return Object(p.a)(e,[{key:"render",value:function(){return Object(g.jsx)("div",{className:"modal ".concat(this.props.show?"modal_open":""),onClick:this.props.onClose,children:Object(g.jsxs)("div",{className:"modal__content",onClick:function(t){return t.stopPropagation()},children:[Object(g.jsxs)("div",{className:"modal__header",children:[Object(g.jsx)("button",{className:"modal__btn_close",onClick:this.props.onClose}),Object(g.jsx)("img",{className:"modal__img",src:this.props.layoutImage,alt:this.props.layoutImage})]}),Object(g.jsxs)("div",{className:"modal__body",children:[Object(g.jsxs)("div",{className:"modal__group-text",children:[Object(g.jsxs)("p",{className:"modal__text",children:["\u0426\u0435\u043d\u0430: ",this.props.price]}),Object(g.jsxs)("p",{className:"modal__text",children:["\u042d\u0442\u0430\u0436: ",this.props.floor]}),Object(g.jsxs)("p",{className:"modal__text",children:["\u041a\u043e\u043b-\u0432\u043e \u043a\u043e\u043c\u043d\u0430\u0442: ",this.props.rooms]})]}),Object(g.jsxs)("div",{className:"modal__group-text",children:[Object(g.jsxs)("p",{className:"modal__text",children:["\u041e\u0431\u0449\u0430\u044f \u043f\u043b\u043e\u0449\u0430\u0434\u044c: ",this.props.areaTotal]}),Object(g.jsxs)("p",{className:"modal__text",children:["\u041f\u043b\u043e\u0449\u0430\u0434\u044c \u043a\u0443\u0445\u043d\u0438: ",this.props.areaKitchen]}),Object(g.jsxs)("p",{className:"modal__text",children:["\u0416\u0438\u043b\u0430\u044f \u043f\u043b\u043e\u0449\u0430\u0434\u044c: ",this.props.areaLive]})]})]})]})})}}]),e}(o.a.PureComponent),O=function(t){Object(b.a)(e,t);var a=Object(j.a)(e);function e(t){var s;return Object(u.a)(this,e),(s=a.call(this,t)).handleShowModal=function(){s.setState({showModal:!s.state.showModal})},s.state={showModal:!1},s}return Object(p.a)(e,[{key:"render",value:function(){return Object(g.jsxs)("div",{children:[Object(g.jsx)(x,Object(c.a)({onClose:this.handleShowModal,show:this.state.showModal},this.props)),Object(g.jsxs)("div",{className:"card",onClick:this.handleShowModal,children:[Object(g.jsx)("img",{className:"card__img",src:this.props.layoutImage,alt:this.props.layoutImage}),Object(g.jsxs)("div",{className:"card__footer",children:[Object(g.jsxs)("p",{className:"card__text",children:["\u0426\u0435\u043d\u0430: ",this.props.price]}),Object(g.jsxs)("p",{className:"card__text",children:["\u041a\u043e\u043b-\u0432\u043e \u043a\u043e\u043c\u043d\u0430\u0442: ",this.props.rooms]}),Object(g.jsxs)("p",{className:"card__text",children:["\u042d\u0442\u0430\u0436: ",this.props.floor]})]})]})]})}}]),e}(o.a.PureComponent);function _(t){var a={floor:{min:t[0].floor,max:t[0].floor},price:{min:t[0].price,max:t[0].price},rooms:{min:t[0].rooms,max:t[0].rooms},areaTotal:{min:t[0].areaTotal,max:t[0].areaTotal}};return t.forEach((function(t){t.floor<a.floor.min&&(a.floor.min=t.floor),t.floor>a.floor.max&&(a.floor.max=t.floor),t.price<a.price.min&&(a.price.min=t.price),t.price>a.price.max&&(a.price.max=t.price),t.rooms<a.rooms.min&&(a.rooms.min=t.rooms),t.rooms>a.rooms.max&&(a.rooms.max=t.rooms),parseInt(t.areaTotal,10)<parseInt(a.areaTotal.min,10)&&(a.areaTotal.min=t.areaTotal),parseInt(t.areaTotal,10)>parseInt(a.areaTotal.max,10)&&(a.areaTotal.max=t.areaTotal)})),a}function v(t,a,e){return t.sort((function(t,s){return e===f.up?parseInt(t[a],10)-parseInt(s[a],10):parseInt(s[a],10)-parseInt(t[a],10)}))}!function(t){t.price="price",t.areaTotal="areaTotal",t.floor="floor",t.rooms="rooms"}(h||(h={})),function(t){t.up="up",t.down="down"}(f||(f={}));var S=e(30),y=(e(124),S.a.createSliderWithTooltip(S.a.Range)),F=function(t){Object(b.a)(e,t);var a=Object(j.a)(e);function e(t){var s;return Object(u.a)(this,e),(s=a.call(this,t)).state={defaultParams:null,showAdditionalParams:!1},s}return Object(p.a)(e,[{key:"componentDidMount",value:function(){this.props.flatList&&this.setState({defaultParams:_(this.props.flatList)})}},{key:"handleShowAdditionalParams",value:function(){this.setState({showAdditionalParams:!this.state.showAdditionalParams})}},{key:"renderAdditionalParams",value:function(){var t=this;return this.state.showAdditionalParams?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{className:"filter__group",children:[Object(g.jsxs)("p",{className:"filter__text",children:["\u041a\u043e\u043b-\u0432\u043e \u043a\u043e\u043c\u043d\u0430\u0442 \u0441 ",this.props.filterParams.rooms.min," \u043f\u043e ",this.props.filterParams.rooms.max]}),Object(g.jsx)(y,{className:"filter__range",min:this.state.defaultParams.rooms.min,max:this.state.defaultParams.rooms.max,defaultValue:[this.state.defaultParams.rooms.min,this.state.defaultParams.rooms.max],draggableTrack:!0,step:1,onChange:function(a){return t.props.onSetRooms(a)}})]}),Object(g.jsxs)("div",{className:"filter__group",children:[Object(g.jsxs)("p",{className:"filter__text",children:["\u041f\u043b\u043e\u0449\u0430\u0434\u044c \u0441 ",this.props.filterParams.areaTotal.min," \u043c\xb2 \u043f\u043e ",this.props.filterParams.areaTotal.max," \u043c\xb2"]}),Object(g.jsx)(y,{className:"filter__range",min:parseInt(this.state.defaultParams.areaTotal.min,10),max:parseInt(this.state.defaultParams.areaTotal.max,10),defaultValue:[parseInt(this.state.defaultParams.areaTotal.min,10),parseInt(this.state.defaultParams.areaTotal.max,10)],draggableTrack:!0,step:1,onChange:function(a){return t.props.onSetAreaTotal(a)}})]})]}):null}},{key:"render",value:function(){var t=this;return this.state.defaultParams?Object(g.jsxs)("div",{className:"filter",children:[Object(g.jsxs)("div",{className:"filter__header",children:[Object(g.jsx)("h4",{className:"filter__title",children:"\u0424\u0438\u043b\u044c\u0442\u0440"}),Object(g.jsxs)("button",{className:"filter__btn",onClick:function(){return t.handleShowAdditionalParams()},children:[this.state.showAdditionalParams?"\u0421\u043a\u0440\u044b\u0442\u044c":"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"," \u0434\u043e\u043f. \u043f\u043e\u043b\u044f"]})]}),Object(g.jsxs)("div",{className:"filter__group",children:[Object(g.jsxs)("p",{className:"filter__text",children:["\u042d\u0442\u0430\u0436 \u0441 ",this.props.filterParams.floor.min," \u043f\u043e ",this.props.filterParams.floor.max]}),Object(g.jsx)(y,{className:"filter__range",min:this.state.defaultParams.floor.min,max:this.state.defaultParams.floor.max,defaultValue:[this.state.defaultParams.floor.min,this.state.defaultParams.floor.max],draggableTrack:!0,step:1,onChange:function(a){return t.props.onSetFloor(a)}})]}),Object(g.jsxs)("div",{className:"filter__group",children:[Object(g.jsxs)("p",{className:"filter__text",children:["\u0426\u0435\u043d\u0430 \u0441 ",this.props.filterParams.price.min," \u20bd \u043f\u043e ",this.props.filterParams.price.max," \u20bd"]}),Object(g.jsx)(y,{className:"filter__range",min:this.state.defaultParams.price.min,max:this.state.defaultParams.price.max,defaultValue:[this.state.defaultParams.price.min,this.state.defaultParams.price.max],draggableTrack:!0,step:1e4,onChange:function(a){return t.props.onSetPrice(a)}})]}),this.renderAdditionalParams()]}):null}}]),e}(o.a.PureComponent),T=function(t){Object(b.a)(e,t);var a=Object(j.a)(e);function e(t){var s;return Object(u.a)(this,e),(s=a.call(this,t)).onShowPrevFlats=function(){window.scrollTo(0,0),s.setState({countStartShowFlats:s.state.countStartShowFlats-s.state.countShowFlats,countEndShowFlats:s.state.countEndShowFlats-s.state.countShowFlats})},s.onShowNextFlats=function(){window.scrollTo(0,0),s.setState({countStartShowFlats:s.state.countStartShowFlats+s.state.countShowFlats,countEndShowFlats:s.state.countEndShowFlats+s.state.countShowFlats})},s.onSetFloor=function(t){s.setState({filterParams:Object(c.a)(Object(c.a)({},s.state.filterParams),{},{floor:{min:t[0],max:t[1]}})})},s.onSetPrice=function(t){s.setState({filterParams:Object(c.a)(Object(c.a)({},s.state.filterParams),{},{price:{min:t[0],max:t[1]}})})},s.onSetRooms=function(t){s.setState({filterParams:Object(c.a)(Object(c.a)({},s.state.filterParams),{},{rooms:{min:t[0],max:t[1]}})})},s.onSetAreaTotal=function(t){s.setState({filterParams:Object(c.a)(Object(c.a)({},s.state.filterParams),{},{areaTotal:{min:t[0].toString(),max:t[1].toString()}})})},s.onSetSortedType=function(t){s.setState({sortType:t.currentTarget.value})},s.onSetSortedValue=function(t){s.setState({sortValue:t.currentTarget.value})},s.state={flatList:[],showFlatList:[],filterParams:null,sortType:f.up,sortValue:h.price,countShowFlats:8,countEndShowFlats:8,countStartShowFlats:0},s}return Object(p.a)(e,[{key:"componentDidMount",value:function(){this.props.flatList&&this.setState({filterParams:_(this.props.flatList)},this.onChangeFlatList)}},{key:"componentDidUpdate",value:function(t,a){a.filterParams!==this.state.filterParams&&a.filterParams&&this.onChangeFlatList(),a.sortType===this.state.sortType&&a.sortValue===this.state.sortValue||this.onChangeFlatList(),a.countStartShowFlats!==this.state.countStartShowFlats&&this.onChangeShowFlatList()}},{key:"onChangeFlatList",value:function(){var t,a;this.setState({flatList:v((t=this.props.flatList,a=this.state.filterParams,t.filter((function(t){return t.floor>=a.floor.min&&t.floor<=a.floor.max&&t.price>=a.price.min&&t.price<=a.price.max&&t.rooms>=a.rooms.min&&t.rooms<=a.rooms.max&&parseInt(t.areaTotal,10)>=parseInt(a.areaTotal.min,10)&&parseInt(t.areaTotal,10)<=parseInt(a.areaTotal.max,10)?t:null}))),this.state.sortValue,this.state.sortType),countEndShowFlats:8,countStartShowFlats:0},this.onChangeShowFlatList)}},{key:"onChangeShowFlatList",value:function(){var t,a,e;this.setState({showFlatList:(t=this.state.flatList,a=this.state.countStartShowFlats,e=this.state.countEndShowFlats,t.slice(a,e))})}},{key:"renderSort",value:function(){return Object(g.jsxs)("div",{className:"sort",children:[Object(g.jsxs)("div",{className:"sort__group",children:[Object(g.jsx)("p",{className:"sort__text",children:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c:"}),Object(g.jsxs)("select",{className:"sort__select",onChange:this.onSetSortedValue,children:[Object(g.jsx)("option",{selected:!0,value:h.price,children:"\u0426\u0435\u043d\u0430"}),Object(g.jsx)("option",{value:h.areaTotal,children:"\u041f\u043b\u043e\u0449\u0430\u0434\u044c"}),Object(g.jsx)("option",{value:h.floor,children:"\u042d\u0442\u0430\u0436"}),Object(g.jsx)("option",{value:h.rooms,children:"\u041a\u043e\u043b-\u0432\u043e \u043a\u043e\u043c\u043d\u0430\u0442"})]})]}),Object(g.jsxs)("div",{className:"sort__group",children:[Object(g.jsx)("p",{className:"sort__text",children:"\u043f\u043e:"}),Object(g.jsxs)("select",{className:"sort__select",onChange:this.onSetSortedType,children:[Object(g.jsx)("option",{selected:!0,value:f.up,children:"\u0412\u043e\u0437\u0440\u0430\u0441\u0442\u0430\u043d\u0438\u044e"}),Object(g.jsx)("option",{value:f.down,children:"\u0423\u0431\u044b\u0432\u0430\u043d\u0438\u044e"})]})]})]})}},{key:"renderFilter",value:function(){return Object(g.jsx)(F,{flatList:this.props.flatList,filterParams:this.state.filterParams,onSetFloor:this.onSetFloor,onSetPrice:this.onSetPrice,onSetRooms:this.onSetRooms,onSetAreaTotal:this.onSetAreaTotal})}},{key:"renderFlatList",value:function(){return this.state.showFlatList.length<1?Object(g.jsx)("h4",{className:"flats__title",children:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e :("}):Object(g.jsx)("div",{className:"flat-list",children:this.state.showFlatList.map((function(t){return Object(g.jsx)(O,Object(c.a)({},t),t.id)}))})}},{key:"renderPrevNextButtons",value:function(){return this.state.showFlatList.length<1||this.state.showFlatList.length===this.state.flatList.length?null:Object(g.jsxs)("div",{className:"flats__btn-group",children:[Object(g.jsx)("button",{className:"flats__btn",onClick:this.onShowPrevFlats,disabled:0===this.state.countStartShowFlats,children:"\u041d\u0430\u0437\u0430\u0434"}),Object(g.jsxs)("p",{className:"flats__count",children:[this.state.countEndShowFlats/this.state.countShowFlats," \u0438\u0437 ",Math.ceil(this.state.flatList.length/this.state.countShowFlats)]}),Object(g.jsx)("button",{className:"flats__btn",onClick:this.onShowNextFlats,disabled:this.state.countEndShowFlats===this.state.flatList.length||this.state.showFlatList.length<this.state.countShowFlats,children:"\u0412\u043f\u0435\u0440\u0435\u0434"})]})}},{key:"render",value:function(){return this.props.flatList?Object(g.jsxs)("div",{className:"flats",children:[this.renderFilter(),this.renderSort(),this.renderFlatList(),this.renderPrevNextButtons()]}):null}}]),e}(o.a.PureComponent),w=Object(i.b)((function(t){return Object(c.a)({},t.flatList)}))(T);var P=Object(n.a)((function(t){var a=t.dispatch,e=t.getState;return function(t){return function(s){return s instanceof Function?s(a,e):t(s)}}}))(n.c)(m);document.getElementById("flats")&&l.a.render(Object(g.jsx)(i.a,{store:P,children:Object(g.jsx)(w,{})}),document.getElementById("flats"))},50:function(t,a,e){}},[[125,1,2]]]);
//# sourceMappingURL=main.3288847d.chunk.js.map